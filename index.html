<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GX REMOVE | Pro AI Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@700&family=Plus+Jakarta+Sans:wght@300;600;800&display=swap" rel="stylesheet">
    <style>
        body { background: #02040a; color: #ffffff; font-family: 'Plus Jakarta Sans', sans-serif; min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .gx-card { width: 100%; max-width: 420px; background: rgba(13, 17, 23, 0.95); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 40px; padding: 40px 25px; box-shadow: 0 0 50px rgba(0, 0, 0, 0.9); text-align: center; }
        .gx-title { font-family: 'Syncopate', sans-serif; letter-spacing: 5px; background: linear-gradient(90deg, #00f2fe, #4facfe); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .upload-box { border: 2px dashed rgba(0, 242, 254, 0.2); border-radius: 30px; padding: 60px 20px; cursor: pointer; transition: 0.3s; background: rgba(0, 198, 255, 0.02); }
        .upload-box:hover { border-color: #00f2fe; background: rgba(0, 242, 254, 0.06); transform: translateY(-3px); }
        .btn-download { background: linear-gradient(45deg, #00c6ff, #0072ff); color: white; font-weight: 800; padding: 18px; border-radius: 22px; width: 100%; margin-top: 15px; box-shadow: 0 10px 20px rgba(0, 114, 255, 0.3); }
        .btn-bg { background: #161b22; border: 1px solid #30363d; color: #4facfe; padding: 14px; border-radius: 20px; width: 100%; font-size: 11px; font-weight: 700; margin-top: 25px; }
        #canvasContainer { position: relative; border-radius: 25px; overflow: hidden; width: 100%; min-height: 300px; background: #000; display: none; margin-bottom: 20px; }
        #mainCanvas { width: 100%; height: auto; display: block; border-radius: 25px; }
    </style>
</head>
<body>

    <div class="gx-card">
        <h1 class="gx-title text-2xl mb-1">GX REMOVE</h1>
        <p class="text-[8px] tracking-[5px] text-slate-500 uppercase font-bold mb-10">Premium HD Studio</p>

        <div id="uploadArea" class="upload-box" onclick="document.getElementById('imageInput').click()">
            <input type="file" id="imageInput" class="hidden" accept="image/*">
            <div class="text-5xl mb-4">üíé</div>
            <p class="text-sm font-bold text-slate-300 tracking-wide">Select High-Res Photo</p>
            <p class="text-[9px] text-slate-600 mt-2 uppercase tracking-widest">AI Auto Background Remover</p>
        </div>

        <div id="loader" class="hidden py-14">
            <div class="w-12 h-12 border-4 border-slate-800 border-t-cyan-500 rounded-full animate-spin mx-auto"></div>
            <p class="text-[10px] text-cyan-500 mt-5 font-bold tracking-[3px] animate-pulse">PROCESSING HD FILE...</p>
        </div>

        <div id="resultArea" class="hidden">
            <div id="canvasContainer">
                <canvas id="mainCanvas"></canvas>
            </div>

            <input type="file" id="bgInput" class="hidden" accept="image/*" onchange="loadBackground(event)">
            
            <button onclick="document.getElementById('bgInput').click()" class="btn-bg uppercase tracking-widest">
                üñºÔ∏è Add Custom Background
            </button>

            <button onclick="saveFinalImage()" class="btn-download uppercase tracking-widest text-xs">
                Download HD Result
            </button>
            
            <button onclick="location.reload()" class="mt-6 text-[9px] text-slate-600 font-bold tracking-widest hover:text-white uppercase block mx-auto">
                Upload New Photo
            </button>
        </div>

        <p class="mt-10 text-[7px] text-slate-800 tracking-[3px] font-bold uppercase">Developed by Sammim</p>
    </div>

    <script>
        const API_KEY = "MMoS7GN2XD8zxXYw5s3ZZmHr";
        const canvas = document.getElementById('mainCanvas');
        const ctx = canvas.getContext('2d');
        
        let fgImg = new Image();
        let bgImg = new Image();
        let isBgLoaded = false;

        // ‡ßß. ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ì ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠
        document.getElementById('imageInput').onchange = async (e) => {
            const file = e.target.files[0];
            if (!file) return;

            document.getElementById('uploadArea').classList.add('hidden');
            document.getElementById('loader').classList.remove('hidden');

            const formData = new FormData();
            formData.append('image_file', file);
            formData.append('size', 'auto');

            try {
                const response = await fetch('https://api.remove.bg/v1.0/removebg', {
                    method: 'POST',
                    headers: { 'X-Api-Key': API_KEY },
                    body: formData
                });

                if (response.ok) {
                    const blob = await response.blob();
                    const url = URL.createObjectURL(blob);
                    
                    fgImg.onload = () => {
                        // ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶≠‡¶æ‡¶∏ ‡¶∏‡¶æ‡¶á‡¶ú ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ
                        canvas.width = fgImg.width;
                        canvas.height = fgImg.height;
                        drawCanvas();
                        document.getElementById('loader').classList.add('hidden');
                        document.getElementById('resultArea').classList.remove('hidden');
                        document.getElementById('canvasContainer').style.display = 'block';
                    };
                    fgImg.src = url;
                } else {
                    alert("API ‡¶ï‡ßç‡¶∞‡ßá‡¶°‡¶ø‡¶ü ‡¶∂‡ßá‡¶∑ ‡¶¨‡¶æ ‡¶≠‡ßÅ‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
                    location.reload();
                }
            } catch (err) {
                alert("‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ!");
                location.reload();
            }
        };

        // ‡ß®. ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
        function loadBackground(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    bgImg.onload = () => {
                        isBgLoaded = true;
                        drawCanvas();
                    };
                    bgImg.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        // ‡ß©. ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶≠‡¶æ‡¶∏‡ßá ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶Å‡¶ï‡¶æ (‡¶ú‡ßã‡ßú‡¶æ ‡¶≤‡¶æ‡¶ó‡¶æ‡¶®‡ßã)
        function drawCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            if (isBgLoaded) {
                // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶õ‡¶¨‡¶ø‡¶ï‡ßá ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶≠‡¶æ‡¶∏‡ßá‡¶∞ ‡¶∏‡¶æ‡¶á‡¶ú‡ßá ‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡¶æ
                ctx.drawImage(bgImg, 0, 0, canvas.width, canvas.height);
            } else {
                // ‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶∏‡¶æ‡¶¶‡¶æ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)
                ctx.fillStyle = "white";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }
            
            // ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶õ‡¶¨‡¶ø‡¶ï‡ßá ‡¶â‡¶™‡¶∞‡ßá ‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡¶æ
            ctx.drawImage(fgImg, 0, 0, canvas.width, canvas.height);
        }

        // ‡ß™. ‡¶´‡¶æ‡¶á‡¶®‡¶æ‡¶≤ ‡¶è‡¶á‡¶ö‡¶°‡¶ø ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°
        function saveFinalImage() {
            const link = document.createElement('a');
            link.download = `GX_PRO_HD_${Date.now()}.png`;
            link.href = canvas.toDataURL("image/png", 1.0); // ‡ßß‡ß¶‡ß¶% ‡¶ï‡ßã‡ßü‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø
            link.click();
        }
    </script>
</body>
</html>
